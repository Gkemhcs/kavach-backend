{
  "test_cases": [
    {
      "name": "success_list_provider_credentials",
      "description": "Successfully list provider credentials",
      "input": {
        "environment_id": "550e8400-e29b-41d4-a716-446655440001"
      },
      "expected": {
        "success": true,
        "provider_credentials": [
          {
            "id": "550e8400-e29b-41d4-a716-446655440003",
            "environment_id": "550e8400-e29b-41d4-a716-446655440001",
            "provider": "github"
          },
          {
            "id": "550e8400-e29b-41d4-a716-446655440004",
            "environment_id": "550e8400-e29b-41d4-a716-446655440001",
            "provider": "gcp"
          }
        ]
      },
      "mock_setup": {
        "provider_repo": [
          {
            "method": "ListProviderCredentials",
            "return": {
              "provider_credentials": [
                {
                  "id": "550e8400-e29b-41d4-a716-446655440003",
                  "environment_id": "550e8400-e29b-41d4-a716-446655440001",
                  "provider": "github"
                },
                {
                  "id": "550e8400-e29b-41d4-a716-446655440004",
                  "environment_id": "550e8400-e29b-41d4-a716-446655440001",
                  "provider": "gcp"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "name": "success_list_provider_credentials_empty",
      "description": "Successfully list provider credentials when none exist",
      "input": {
        "environment_id": "550e8400-e29b-41d4-a716-446655440001"
      },
      "expected": {
        "success": true,
        "provider_credentials": []
      },
      "mock_setup": {
        "provider_repo": [
          {
            "method": "ListProviderCredentials",
            "return": {
              "provider_credentials": []
            }
          }
        ]
      }
    },
    {
      "name": "error_invalid_environment_id",
      "description": "Fail to list provider credentials with invalid environment ID",
      "input": {
        "environment_id": "invalid-uuid"
      },
      "expected": {
        "success": false,
        "error_code": "internal_error"
      },
      "mock_setup": {}
    },
    {
      "name": "error_database_error",
      "description": "Fail to list provider credentials due to database error",
      "input": {
        "environment_id": "550e8400-e29b-41d4-a716-446655440001"
      },
      "expected": {
        "success": false,
        "error_code": "provider_credential_list_failed"
      },
      "mock_setup": {
        "provider_repo": [
          {
            "method": "ListProviderCredentials",
            "return": {
              "error": "database connection failed"
            }
          }
        ]
      }
    }
  ]
} 